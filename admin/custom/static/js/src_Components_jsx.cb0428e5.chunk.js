"use strict";(self.webpackChunkiobroker_admin_component_telegram=self.webpackChunkiobroker_admin_component_telegram||[]).push([["src_Components_jsx"],{71921:(j,D,E)=>{E.r(D),E.d(D,{default:()=>H});var F=E(28437),a=E.n(F),$=E(95973),C=E.n($),l=E(67085),T=E(21839),o=E(37449),M=E(60556),A=Object.defineProperty,N=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,_=(b,e,t)=>e in b?A(b,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):b[e]=t,c=(b,e)=>{for(var t in e||(e={}))W.call(e,t)&&_(b,t,e[t]);if(N)for(var t of N(e))P.call(e,t)&&_(b,t,e[t]);return b},k=(b,e,t)=>_(b,typeof e!="symbol"?e+"":e,t),x=(b,e,t)=>new Promise((n,i)=>{var h=p=>{try{r(t.next(p))}catch(u){i(u)}},m=p=>{try{r(t.throw(p))}catch(u){i(u)}},r=p=>p.done?n(p.value):Promise.resolve(p.value).then(h,m);r((t=t.apply(b,e)).next())});const s={table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"},ok:{color:"#0ba20b"},warn:{color:"#f57d1d"},error:{color:"#c42c3a"},cell:{padding:"6px 3px"},colIndex:{width:20},colActive:{width:50},colName:{width:150},colUrl:{},colRegEx:{},colItem:{width:70},colRole:{width:70,textAlign:"center"},colType:{width:70,textAlign:"center"},colComma:{width:50},colUnit:{width:70},colSubstituteOld:{width:45,textAlign:"center"},colSubstitute:{width:70},colFactor:{width:50},colOffset:{width:50},colInterval:{width:50},colButtons:{width:140,textAlign:"right"},changedRow:{backgroundColor:"#795d5d"},marginRight:{marginRight:10},item:{width:50,marginLeft:10},regex:{width:"calc(100% - 100px)"},dialog:{},testText:b=>({"& textarea":{width:"100%",height:150,resize:"none",backgroundColor:b.palette.mode==="dark"?"#333":"#fff",color:b.palette.mode==="dark"?"#fff":"#000"}}),input:{width:100},resultUpdated:b=>({"& label":{color:b.palette.mode==="dark"?"#fff":"#000",animation:"admin-parser-blink 1000ms ease-in-out"},"& input":{color:b.palette.mode==="dark"?"#fff":"#000",animation:"admin-parser-blink 1000ms ease-in-out"}})};class R extends M.ConfigGeneric{constructor(e){super(e),k(this,"onObjectChange",(t,n)=>{if(!t)return;const i=JSON.parse(JSON.stringify(this.state.rules)),h=i.findIndex(m=>m.id===t);if(!n)h!==-1&&(i.splice(h,1),this.setState({rules:i}));else{if(h!==-1){if(i[h]={id:t,name:t.substring(this.namespace.length),common:{enabled:n.common.enabled!==!1,role:n.common.role,type:n.common.type,unit:n.common.unit,read:!0,write:!1},native:{link:n.native.link,item:n.native.item||0,regex:n.native.regex,interval:n.native.interval,substitute:n.native.substitute,substituteOld:n.native.substituteOld,offset:n.native.offset,factor:n.native.factor,parseHtml:n.native.parseHtml}},JSON.stringify(this.state.rules[h])===JSON.stringify(i[h]))return;console.log("Detected change"),console.log(`old: ${JSON.stringify(this.state.rules[h])}`),console.log(`new: ${JSON.stringify(i[h])}`)}else i.push({id:t,name:t.substring(this.namespace.length),common:{enabled:n.common.enabled!==!1,role:n.common.role,type:n.common.type,unit:n.common.unit},native:{link:n.native.link,item:n.native.item||0,regex:n.native.regex,interval:n.native.interval,substitute:n.native.substitute,substituteOld:n.native.substituteOld,offset:n.native.offset,factor:n.native.factor,parseHtml:n.native.parseHtml}});i.sort((m,r)=>m.name.localeCompare(r.name)),this.setState({rules:i})}}),k(this,"onAliveChange",(t,n)=>{t===`system.adapter.${this.namespace}alive`&&this.state.alive!==!!(n!=null&&n.val)&&this.setState({alive:!!(n!=null&&n.val)})}),this.state={showEditDialog:null,data:JSON.parse(JSON.stringify(e.data)),rules:null,error:null,showDeleteDialog:null,testText:"Test text",testResult:"",changed:[],resultIndex:0,alive:!1},this.namespace=`${this.props.adapterName}.${this.props.instance}.`,this.testTextRef=a().createRef()}componentDidMount(){super.componentDidMount(),this.props.socket.getObjectViewSystem("state",this.namespace,`${this.namespace}\u9999`).then(e=>this.props.socket.getState(`system.adapter.${this.namespace}alive`).catch(()=>null).then(t=>{const n=Object.keys(e).map(i=>({id:i,name:i.substring(this.namespace.length),common:{enabled:e[i].common.enabled!==!1,role:e[i].common.role,type:e[i].common.type,unit:e[i].common.unit},native:{link:e[i].native.link,item:e[i].native.item||0,regex:e[i].native.regex,interval:e[i].native.interval,substitute:e[i].native.substitute,substituteOld:e[i].native.substituteOld,offset:e[i].native.offset,factor:e[i].native.factor,parseHtml:e[i].native.parseHtml}}));n.sort((i,h)=>i.name.localeCompare(h.name)),this.setState({rules:n,alive:t?t.val:!1}),this.props.socket.subscribeObject(`${this.namespace}*`,this.onObjectChange),this.props.socket.subscribeState(`system.adapter.${this.namespace}*`,this.onAliveChange)}))}componentWillUnmount(){this.props.socket.unsubscribeObject(`${this.namespace}*`,this.onObjectChange),this.props.socket.unsubscribeState(`system.adapter.${this.namespace}*`,this.onAliveChange),this.timerTest&&clearTimeout(this.timerTest),this.timerTest=null}requestData(e){this.state.alive&&this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,"link",e).then(t=>{t&&(t.error?window.alert(t.error):this.setState({testText:t.text||""}))})}renderEditDialog(){if(!this.state.showEditDialog)return null;const e=this.state.showEditDialog;return a().createElement(l.Dialog,{key:"dialog",maxWidth:"lg",fullWidth:!0,open:!0,onClose:()=>{},sx:{"& .MuiDialog-paper":s.dialog}},a().createElement(l.DialogTitle,null,o.I18n.t("parser_Test regex"),":",a().createElement("span",{style:{fontStyle:"italic",fontWeight:"bold",marginLeft:10}},this.state.showEditDialog.name)),a().createElement(l.DialogContent,null,a().createElement(l.Grid,{container:!0,spacing:2},a().createElement(l.Grid,{item:!0,sm:12},a().createElement(l.FormControl,{variant:"standard",style:s.marginRight},a().createElement(l.InputLabel,null,o.I18n.t("parser_Type")),a().createElement(l.Select,{value:e.common.type||"string",onChange:t=>{const n=JSON.parse(JSON.stringify(e));n.common.type=t.target.value,this.setState({showEditDialog:n},()=>this.onTest())},variant:"standard"},a().createElement(l.MenuItem,{value:"boolean"},"boolean"),a().createElement(l.MenuItem,{value:"number"},"number"),a().createElement(l.MenuItem,{value:"string"},"string"),a().createElement(l.MenuItem,{value:"json"},"json"),a().createElement(l.MenuItem,{value:"array"},"array"))),e.common.type==="number"?a().createElement(l.FormControlLabel,{control:a().createElement(l.Checkbox,{checked:e.native.substituteOld,onChange:()=>{const t=JSON.parse(JSON.stringify(e));t.native.comma=!t.native.comma,this.setState({showEditDialog:t},()=>this.onTest())}}),label:o.I18n.t("parser_Comma")}):null),a().createElement(l.Grid,{item:!0,sm:12},a().createElement(l.FormControlLabel,{title:o.I18n.t("parser_If new value is not available, let old value unchanged"),style:s.marginRight,control:a().createElement(l.Checkbox,{checked:e.native.substituteOld,onChange:()=>{const t=JSON.parse(JSON.stringify(e));t.native.substituteOld=!t.native.substituteOld,this.setState({showEditDialog:t},()=>this.onTest())}}),label:o.I18n.t("parser_Substitute old value")}),e.native.substituteOld?null:a().createElement(l.TextField,{title:o.I18n.t("parser_If new value is not available, use this value"),style:c(c({},s.marginRight),s.input),value:e.native.substitute||"",onChange:t=>{const n=JSON.parse(JSON.stringify(e));n.native.substitute=t.target.value,this.setState({showEditDialog:n},()=>this.onTest())},label:o.I18n.t("parser_Substitute value"),variant:"standard"}),e.common.type==="number"?a().createElement(l.TextField,{style:c(c({},s.marginRight),s.input),value:e.native.factor||1,onChange:t=>{const n=JSON.parse(JSON.stringify(e));n.native.factor=t.target.value,this.setState({showEditDialog:n},()=>this.onTest())},variant:"standard",label:o.I18n.t("parser_Factor")}):null,e.common.type==="number"?a().createElement(l.TextField,{style:c(c({},s.marginRight),s.input),value:e.native.offset||0,onChange:t=>{const n=JSON.parse(JSON.stringify(e));n.native.offset=t.target.value,this.setState({showEditDialog:n},()=>this.onTest())},label:o.I18n.t("parser_Offset"),variant:"standard"}):null,e.common.type==="string"?a().createElement(l.FormControlLabel,{title:o.I18n.t("parser_Convert &#48; => 0 and so on"),style:s.marginRight,control:a().createElement(l.Checkbox,{checked:e.native.parseHtml,onChange:()=>{const t=JSON.parse(JSON.stringify(e));t.native.parseHtml=!t.native.parseHtml,this.setState({showEditDialog:t},()=>this.onTest())}}),label:o.I18n.t("parser_Parse HTML text")}):null),a().createElement(l.Grid,{item:!0,sm:12},a().createElement(l.TextField,{value:e.native.regex||"",onChange:t=>{const n=JSON.parse(JSON.stringify(e));n.native.regex=t.target.value,this.setState({showEditDialog:n},()=>this.onTest())},variant:"standard",style:s.regex,label:o.I18n.t("parser_RegEx")}),e.common.type!=="array"?a().createElement(l.TextField,{value:e.native.item||0,type:"number",min:0,onChange:t=>{const n=JSON.parse(JSON.stringify(e));n.native.item=t.target.value,this.setState({showEditDialog:n},()=>this.onTest())},variant:"standard",style:s.item,label:o.I18n.t("parser_Item")}):null,a().createElement(l.Fab,{color:"primary",size:"small",onClick:()=>this.onTest(!0)},a().createElement(T.PlayArrow,null))),a().createElement(l.Grid,{item:!0,sm:12,sx:s.testText},a().createElement("textarea",{ref:this.testTextRef,value:this.state.testText,onChange:t=>this.setState({testText:t.target.value},()=>this.onTest())})),a().createElement(l.Grid,{item:!0,sm:12},a().createElement(l.TextField,{sx:s.resultUpdated,key:this.state.resultIndex,variant:"standard",label:o.I18n.t("parser_Result"),value:this.state.testResult.toString(),readOnly:!0,fullWidth:!0})))),a().createElement(l.DialogActions,null,a().createElement(l.Button,{disabled:JSON.stringify(this.state.showEditDialog)===this.state.originalRule,onClick:()=>{const t=JSON.parse(JSON.stringify(this.state.rules)),n=t.findIndex(i=>i.id===e.id);Object.assign(t[n].common,this.state.showEditDialog.common),Object.assign(t[n].native,this.state.showEditDialog.native),this.setState({showEditDialog:null,originalRule:null,rules:t},()=>this.onAutoSave(n))},color:"primary",startIcon:a().createElement(T.Save,null),variant:"contained"},o.I18n.t("ra_Save")),a().createElement(l.Button,{color:"grey",onClick:()=>this.setState({showEditDialog:null,originalRule:null}),variant:"contained",startIcon:a().createElement(T.Close,null)},o.I18n.t("ra_Cancel"))))}checkError(){const e=this.state.rules.findIndex(t=>!t.name);if(e!==-1)return e;for(let t=0;t<this.state.rules.length;t++)for(let n=t+1;n<this.state.rules.length;n++)if(this.state.rules[t].name===this.state.rules[n].name)return n;return!1}onAutoSave(e){const t=[...this.state.changed];t.includes(e)||(t.push(e),this.setState({changed:t})),this.saveTimer&&clearTimeout(this.saveTimer),this.saveTimer=setTimeout(()=>x(this,null,function*(){this.saveTimer=null;let n=!1;const i=JSON.parse(JSON.stringify(this.state.rules)),h=[];for(let r=0;r<this.state.changed.length;r++){const p=this.state.changed[r],u=i[p];if(u.name&&!i.find((d,y)=>d.name===u.name&&y!==p)){const d=u.id?yield this.props.socket.getObject(u.id):{common:{},native:{},type:"state"},y=JSON.parse(JSON.stringify(d));Object.assign(y.common,u.common),Object.assign(y.native,u.native),u.id!==`${this.namespace}${u.name}`?(u.id&&(yield this.props.socket.delObject(u.id)),u.id=`${this.namespace}${u.name}`,n=!0,y._id=u.id,h.push(y)):(JSON.stringify(d.common)!==JSON.stringify(y.common)||JSON.stringify(d.native)!==JSON.stringify(y.native))&&(y._id=u.id,h.push(y))}}const m={changed:[]};n&&(m.rules=i),this.setState(m,()=>x(this,null,function*(){for(let r=0;r<h.length;r++)yield this.props.socket.setObject(h[r]._id,h[r])}))}),1e3)}_onChange(e,t,n,i){const h=JSON.parse(JSON.stringify(this.state.rules)),m=t?"native":"common";n==="comma"&&(h[e].common.type="number"),h[e][m][n]=i,this.setState({rules:h},()=>this.onAutoSave(e))}renderRule(e,t,n,i,h){const m=!e.name||this.state.rules.find((r,p)=>r.name===e.name&&p!==t);return a().createElement(l.TableRow,{key:`${t}_${e.id}`,style:this.state.changed.includes(t)?s.changedRow:void 0},a().createElement(l.TableCell,{style:s.cell},t+1),a().createElement(l.TableCell,{style:s.cell},a().createElement(l.Checkbox,{disabled:m,checked:e.common.enabled,onChange:r=>this._onChange(t,!1,"enabled",r.target.checked)})),a().createElement(l.TableCell,{style:s.cell},a().createElement(l.TextField,{fullWidth:!0,value:e.name,error:!!m,disabled:!e.common.enabled,onChange:r=>{const p=JSON.parse(JSON.stringify(this.state.rules));p[t].name=r.target.value;const u=this.checkError();this.setState({rules:p,error:u},()=>this.onAutoSave(t))},variant:"standard"})),a().createElement(l.TableCell,{style:s.cell},a().createElement(l.TextField,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.native.link,onChange:r=>this._onChange(t,!0,"link",r.target.value),variant:"standard"})),a().createElement(l.TableCell,{style:s.cell},a().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.regex,onChange:r=>this._onChange(t,!0,"regex",r.target.value),variant:"standard"})),h?a().createElement(l.TableCell,{style:s.cell},e.common.type!=="array"?a().createElement(l.TextField,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.native.item,type:"number",onChange:r=>this._onChange(t,!0,"item",r.target.value),variant:"standard"}):null):null,a().createElement(l.TableCell,{style:s.cell},a().createElement(l.Select,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.common.role||"",onChange:r=>this._onChange(t,!1,"role",r.target.value),variant:"standard"},a().createElement(l.MenuItem,{value:"state"},"default"),a().createElement(l.MenuItem,{value:""},"custom"),a().createElement(l.MenuItem,{value:"temperature"},"temperature"),a().createElement(l.MenuItem,{value:"value"},"value"),a().createElement(l.MenuItem,{value:"blinds"},"blinds"),a().createElement(l.MenuItem,{value:"switch"},"switch"),a().createElement(l.MenuItem,{value:"indicator"},"indicator"))),a().createElement(l.TableCell,{style:s.cell},a().createElement(l.Select,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.common.type||"string",onChange:r=>this._onChange(t,!1,"type",r.target.value),variant:"standard"},a().createElement(l.MenuItem,{value:"boolean"},"boolean"),a().createElement(l.MenuItem,{value:"number"},"number"),a().createElement(l.MenuItem,{value:"string"},"string"),a().createElement(l.MenuItem,{value:"json"},"json"))),n?a().createElement(l.TableCell,{style:s.cell},e.common.type==="number"?a().createElement(l.Checkbox,{disabled:m||!e.common.enabled,checked:!!e.native.comma,onChange:r=>this._onChange(t,!0,"comma",r.target.checked)}):null):null,n?a().createElement(l.TableCell,{style:s.cell},a().createElement(l.TextField,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.common.unit,onChange:r=>this._onChange(t,!1,"unit",r.target.value),variant:"standard"})):null,a().createElement(l.TableCell,{style:s.cell,title:o.I18n.t("parser_If new value is not available, let old value unchanged")},a().createElement(l.Checkbox,{disabled:m||!e.common.enabled,checked:e.native.substituteOld,onChange:r=>this._onChange(t,!0,"substituteOld",r.target.checked)})),i?a().createElement(l.TableCell,{title:o.I18n.t("parser_If new value is not available, use this value"),style:s.cell},e.native.substituteOld?null:a().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.substituteOld?"":e.native.substitute,onChange:r=>this._onChange(t,!0,"substitute",r.target.value),variant:"standard"})):null,n?a().createElement(l.TableCell,{style:s.cell},e.common.type==="number"?a().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.factor,onChange:r=>this._onChange(t,!0,"factor",r.target.value),variant:"standard"}):null):null,n?a().createElement(l.TableCell,{style:s.cell},e.common.type==="number"?a().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.offset,onChange:r=>this._onChange(t,!0,"offset",r.target.value),variant:"standard"}):null):null,a().createElement(l.TableCell,{title:o.I18n.t("parser_Leave it empty if default interval is desired"),style:s.cell},a().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.interval,type:"number",onChange:r=>this._onChange(t,!0,"interval",r.target.value),variant:"standard"})),a().createElement(l.TableCell,{style:s.cell},a().createElement(l.IconButton,{size:"small",disabled:m||!e.common.enabled,onClick:()=>this.setState({showEditDialog:JSON.parse(JSON.stringify(this.state.rules[t])),originalRule:JSON.stringify(this.state.rules[t])},()=>this.requestData(this.state.rules[t].native.link))},a().createElement(T.Edit,null)),a().createElement(l.IconButton,{size:"small",onClick:()=>this.setState({showDeleteDialog:t})},a().createElement(T.Delete,null)),a().createElement(l.IconButton,{size:"small",disabled:m||!e.common.enabled,onClick:()=>x(this,null,function*(){const r=JSON.parse(JSON.stringify(this.state.rules[t]));let p=1,u=r.name;const d=u.match(/(\d+)$/);for(d?(u=u.replace(d[0],""),p=parseInt(d[0],10)+1):u+="_";this.state.rules.find(y=>y[this.props.schema.clone]===u+p.toString());)p++;r.name=u+p.toString(),r.id=`${this.namespace}${r.name}`,yield this.props.socket.setObject(`${this.namespace}${r.name}`,{type:"state",common:e.common,native:e.native})})},a().createElement(T.ContentCopy,null))))}renderDeleteDialog(){return this.state.showDeleteDialog===null?null:a().createElement(o.Confirm,{text:o.I18n.t("parser_Delete rule"),ok:o.I18n.t("ra_Delete"),onClose:e=>x(this,null,function*(){if(e){const t=this.state.rules[this.state.showDeleteDialog].id,n=JSON.parse(JSON.stringify(this.state.rules));n.splice(this.state.showDeleteDialog,1),this.setState({rules:n,showDeleteDialog:null},()=>x(this,null,function*(){t&&(yield this.props.socket.delObject(t))}))}else this.setState({showDeleteDialog:null})})})}onTest(e){this.timerTest&&clearTimeout(this.timerTest),this.timerTest=setTimeout(()=>{let t=this.state.testText,n=this.state.showEditDialog.native.regex,i=this.state.showEditDialog.common.type,h=this.state.showEditDialog.native.comma,m=this.state.showEditDialog.native.offset,r=this.state.showEditDialog.native.item,p=this.state.showEditDialog.native.factor,u=this.state.showEditDialog.native.parseHtml==="true"||this.state.showEditDialog.native.parseHtml===!0,d=this.state.showEditDialog.native.substitute;n||(n=".+"),n[0]==="/"&&(n=n.substring(1,n.length-1)),d!==""&&d!==void 0&&d!==null?(d==="null"&&(d=null),i==="number"?d=parseFloat(d)||0:i==="boolean"&&(d==="true"&&(d=!0),d==="false"&&(d=!1),d=!!d)):d=void 0;let y;try{y=new RegExp(n,r||i==="array"?"g":"")}catch(g){this.setState({testError:g.toString()});return}m=parseFloat(m)||0,p=parseFloat(p)||1,r=(parseInt(r,10)||0)+1,r<0&&(r=1),r>1e3&&(r=1e3),t=(t||"").toString().replace(/\r\n|[\r\n]/g," ");let f;if(i==="array")f=t.match(y);else do f=y.exec(t),r--;while(r&&f);if(f){let g;if(i==="boolean")g="true";else if(i!=="array")g=f.length>1?f[1]:f[0],i==="number"&&(h?(g=g.replace(/\./g,""),g=g.replace(",",".")):g=g.replace(/,/g,""),g=g.replace(/\s/g,""),g=parseFloat(g),g*=p,g+=m);else{if(n.includes("(")){const O=new RegExp(n);f=f.map(v=>{const S=v.match(O);return S&&S[1]?S[1]:v})}u?g=JSON.stringify(f.map(O=>O.replace(/&#(\d+);/g,(v,S)=>String.fromCharCode(S)))):g=JSON.stringify(f)}u&&i==="string"&&(g=g==null?"":g.toString(),g=g.replace(/&#(\d+);/g,(O,v)=>String.fromCharCode(v))),this.setState({testResult:g==null?"":g,resultIndex:this.state.resultIndex+1},()=>{const O=f[1]?f[0].indexOf(f[1]):0,v=this.testTextRef.current,S=f.index+O,w=f.index+O+(f[1]?f[1].length:f[0].length);if(v!=null&&v.setSelectionRange){v.focus();const I=v.value;v.value=I.substring(0,w);const J=v.scrollHeight;v.scrollTop=J,v.value=I,v.scrollTop=J-30,v==null||v.setSelectionRange(S,w)}else if(v!=null&&v.createTextRange){const I=v.createTextRange();I.collapse(!0),I.moveEnd("character",w),I.moveStart("character",S),I.select()}else v!=null&&v.selectionStart&&(v.selectionStart=S,v.selectionEnd=w)})}else i==="boolean"?this.setState({testResult:"false",resultIndex:this.state.resultIndex+1}):this.setState({testResult:d==null?"":d,resultIndex:this.state.resultIndex+1})},e?0:1e3)}renderItem(){if(!this.state.rules)return a().createElement(l.LinearProgress,null);const e=this.state.rules.find(i=>i.common.type==="number"),t=this.state.rules.find(i=>!i.native.substituteOld),n=this.state.rules.find(i=>i.common.type!=="array");return a().createElement(l.TableContainer,{component:l.Paper},a().createElement("style",null,`
@keyframes admin-parser-blink {
    0% {
        color: #00FF00;
    }
    100% {
        color: ${this.props.themeType==="dark"?"#fff":"#000"};
    }
}
`),this.renderEditDialog(),this.renderDeleteDialog(),a().createElement(l.Table,{size:"small"},a().createElement(l.TableHead,null,a().createElement(l.TableRow,null,a().createElement(l.TableCell,{style:c(c({},s.cell),s.colIndex)}),a().createElement(l.TableCell,{style:c(c({},s.cell),s.colActive)},o.I18n.t("parser_Active")),a().createElement(l.TableCell,{style:c(c({},s.cell),s.colName)},o.I18n.t("parser_Name")),a().createElement(l.TableCell,{style:c(c({},s.cell),s.colUrl)},o.I18n.t("parser_URL or file name")),a().createElement(l.TableCell,{style:c(c({},s.cell),s.colRegEx)},o.I18n.t("parser_RegEx")),n?a().createElement(l.TableCell,{style:c(c({},s.cell),s.colItem)},o.I18n.t("parser_Item")):null,a().createElement(l.TableCell,{style:c(c({},s.cell),s.colRole)},o.I18n.t("parser_Role")),a().createElement(l.TableCell,{style:c(c({},s.cell),s.colType)},o.I18n.t("parser_Type")),e?a().createElement(l.TableCell,{style:c(c({},s.cell),s.colComma)},o.I18n.t("parser_Comma")):null,e?a().createElement(l.TableCell,{style:c(c({},s.cell),s.colUnit)},o.I18n.t("parser_Unit")):null,a().createElement(l.TableCell,{style:c(c({},s.cell),s.colSubstituteOld),title:o.I18n.t("parser_If new value is not available, let old value unchanged")},o.I18n.t("parser_Old")),t?a().createElement(l.TableCell,{style:c(c({},s.cell),s.colSubstitute),title:o.I18n.t("parser_If new value is not available, use this value")},o.I18n.t("parser_Subs")):null,e?a().createElement(l.TableCell,{style:c(c({},s.cell),s.colFactor)},o.I18n.t("parser_Factor")):null,e?a().createElement(l.TableCell,{style:c(c({},s.cell),s.colOffset)},o.I18n.t("parser_Offset")):null,a().createElement(l.TableCell,{style:c(c({},s.cell),s.colInterval),title:o.I18n.t("parser_Leave it empty if default interval is desired")},o.I18n.t("parser_Interval")),a().createElement(l.TableCell,{style:c(c({},s.cell),s.colButtons)},a().createElement(l.Fab,{size:"small",color:"primary",onClick:()=>{const i=JSON.parse(JSON.stringify(this.state.rules));i.push({id:"",name:"",common:{enabled:!0,role:"state",type:"string",unit:"",read:!0,write:!1},native:{link:"",item:0,regex:"",interval:"",substitute:"",substituteOld:!0,offset:0,factor:1}}),this.setState({rules:i})}},a().createElement(T.Add,null))))),a().createElement(l.TableBody,null,this.state.rules.map((i,h)=>this.renderRule(i,h,e,t,n)))))}}R.propTypes={socket:C().object.isRequired,themeType:C().string,themeName:C().string,style:C().object,className:C().string,data:C().object.isRequired,attr:C().string,schema:C().object,onError:C().func,onChange:C().func};const H={ParserComponent:R}}}]);

//# sourceMappingURL=src_Components_jsx.cb0428e5.chunk.js.map